From 557b8ae02ee3640395f30360802df4900642c493 Mon Sep 17 00:00:00 2001
From: Mark Geisert <mark@maxrnd.com>
Date: Mon, 14 Mar 2022 17:47:30 -0700
Subject: [PATCH 050/N] Cygwin: Fix gmondump formatting goofs

The rewrite of %X to %p was malhandled.  Fix that/them.

Signed-off-by: Johannes Schindelin <johannes.schindelin@gmx.de>
---
 winsup/utils/gmondump.c | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

diff --git a/winsup/utils/gmondump.c b/winsup/utils/gmondump.c
index ec9db05..2d29e82 100644
--- a/winsup/utils/gmondump.c
+++ b/winsup/utils/gmondump.c
@@ -162,7 +162,7 @@ gmondump1 (char *filename)
 
   note ("file %s, gmon version 0x%x, sample rate %d\n",
         filename, hdr.version, hdr.profrate);
-  note ("  address range 0x%p..0x%p\n", hdr.lpc, hdr.hpc);
+  note ("  address range %p..%p\n", hdr.lpc, hdr.hpc);
   note ("  numbuckets %d, hitbuckets %d, hitcount %d, numrawarcs %d\n",
         numbuckets, hitbuckets, hitcount, numrawarcs);
 
@@ -175,7 +175,7 @@ gmondump1 (char *filename)
       int   incr = (hdr.hpc - hdr.lpc) / numbuckets;
       for (res = 0; res < numbuckets; ++bucket, ++res, addr += incr)
         if (*bucket)
-          note ("    address 0x%p, hitcount %d\n", addr, *bucket);
+          note ("    address %p, hitcount %d\n", addr, *bucket);
       bucket -= numbuckets;
 
       if (numrawarcs)
@@ -186,7 +186,7 @@ gmondump1 (char *filename)
             error (0, "unable to read rawarc data");
           note ("  rawarc data follows...\n");
           for (res = 0; res < numrawarcs; ++rawarc, ++res)
-            note ("    from 0x%p, self 0x%p, count %d\n",
+            note ("    from %p, self %p, count %d\n",
                   rawarc->raw_frompc, rawarc->raw_selfpc, rawarc->raw_count);
         }
     }
-- 
2.9.0

